# -*- coding: utf-8 -*-
"""
選舉資料處理系統 - 設定檔
Configuration for election data processor
"""

from pathlib import Path

# ============================================================================
# 路徑設定
# ============================================================================

BASE_DIR = Path(__file__).parent.parent
DATA_DIR = BASE_DIR / 'voteData'
OUTPUT_DIR = BASE_DIR / 'output'

# ============================================================================
# 年份資料夾對照
# ============================================================================

YEAR_FOLDERS = {
    2014: '2014-103年地方公職人員選舉',
    2016: '2016總統立委',
    2018: '2018-107年地方公職人員選舉',
    2020: '2020總統立委',
    2022: '2022-111年地方公職人員選舉',
    2024: '2024總統立委',
}

# ============================================================================
# 直轄市設定 (prv_code, city_code, city_name)
# ============================================================================

MUNICIPALITIES = [
    ('63', '000', '臺北市'),
    ('65', '000', '新北市'),
    ('66', '000', '臺中市'),
    ('67', '000', '臺南市'),
    ('64', '000', '高雄市'),
    ('68', '000', '桃園市'),
]

# ============================================================================
# 縣市設定 (prv_code, city_code, city_name)
# ============================================================================

COUNTIES = [
    ('10', '002', '宜蘭縣'),
    ('10', '004', '新竹縣'),
    ('10', '005', '苗栗縣'),
    ('10', '007', '彰化縣'),
    ('10', '008', '南投縣'),
    ('10', '009', '雲林縣'),
    ('10', '010', '嘉義縣'),
    ('10', '013', '屏東縣'),
    ('10', '014', '臺東縣'),
    ('10', '015', '花蓮縣'),
    ('10', '016', '澎湖縣'),
    ('10', '017', '基隆市'),
    ('10', '018', '新竹市'),
    ('10', '020', '嘉義市'),
    ('09', '007', '金門縣'),
    ('09', '020', '連江縣'),
]

# 所有縣市
ALL_CITIES = MUNICIPALITIES + COUNTIES

# ============================================================================
# 政黨代碼對照表 (動態載入)
# ============================================================================

PARTY_CODE_MAP = {}


def is_municipality(prv_code: str, city_code: str) -> bool:
    """判斷是否為直轄市"""
    return city_code == '000'


def get_city_info(city_name: str) -> tuple:
    """根據縣市名稱取得 (prv_code, city_code)"""
    for prv, city, name in ALL_CITIES:
        if name == city_name:
            return (prv, city)
    return (None, None)
